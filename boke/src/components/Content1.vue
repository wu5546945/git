<template>
 <div>
    <p><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">1.promise</span><span style="font-size:11.5pt; color:#333333; ">简介</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p><span style="font-size:11.5pt; color:#333333; ">（</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">1</span><span style="font-size:11.5pt; color:#333333; ">）对象的状态不受外界影响。</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">对象代表一个异步操作，有三种状态：</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">pending</span></code><span style="font-size:11.5pt; color:#333333; ">（进行中）、</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">fulfilled</span></code><span style="font-size:11.5pt; color:#333333; ">（已成功）和</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">rejected</span></code><span style="font-size:11.5pt; color:#333333; ">（已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">这个名字的由来，它的英语意思就是</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&ldquo;</span><span style="font-size:11.5pt; color:#333333; ">承诺</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&rdquo;</span><span style="font-size:11.5pt; color:#333333; ">，表示其他手段无法改变。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p style="font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-size:11.5pt; color:#333333; ">（</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">2</span><span style="font-size:11.5pt; color:#333333; ">）一旦状态改变，就不会再变，任何时候都可以得到这个结果。</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">对象的状态改变，只有两种可能：从</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">pending</span></code><span style="font-size:11.5pt; color:#333333; ">变为</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">fulfilled</span></code><span style="font-size:11.5pt; color:#333333; ">和从</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">pending</span></code><span style="font-size:11.5pt; color:#333333; ">变为</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">rejected</span></code><span style="font-size:11.5pt; color:#333333; ">。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果，这时就称为</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> resolved</span><span style="font-size:11.5pt; color:#333333; ">（已定型）。如果改变已经发生了，你再对</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">对象添加回调函数，也会立即得到这个结果。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&nbsp;</span></p>
<p class="MsoNormal">2.<span style="font-family:宋体; ">基本用法</span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">const promise </span><span style="font-family:Consolas; font-size:12.0pt; color:#F92672; background:#111111; ">=</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span><span style="font-family:Consolas; font-size:12.0pt; color:#66D9EF; background:#111111; ">new</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> Promise</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; font-size:12.0pt; color:#66D9EF; background:#111111; ">function</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">resolve</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">,</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> reject</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">)</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">{</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span><span style="font-family:Consolas; font-size:12.0pt; color:#75715E; background:#111111; "> // ... some code</span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">  </span><span style="font-family:Consolas; font-size:12.0pt; color:#66D9EF; background:#111111; ">if</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; font-size:12.0pt; color:#75715E; background:#111111; ">/* </span><span style="font-family:宋体; font-size:12.0pt; color:#75715E; background:#111111; ">异步操作成功</span><span style="font-family:Consolas; font-size:12.0pt; color:#75715E; background:#111111; "> */</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">){</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">    resolve</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">value</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">);</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">  </span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">}</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span><span style="font-family:Consolas; font-size:12.0pt; color:#66D9EF; background:#111111; ">else</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">{</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">    reject</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">error</span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">);</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; ">  </span><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">}</span><span style="font-family:Consolas; font-size:12.0pt; color:#A6E22E; background:#111111; "> </span></p>
<p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;text-align:left;background:#111111;"><span style="font-family:Consolas; font-size:12.0pt; color:#F8F8F2; background:#111111; ">});</span><span style="font-family:Consolas; font-size:11.5pt; color:white; "> </span></p>
<p class="MsoNormal"><code><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">resolve</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; "><span style="font-variant-ligatures:normal; font-variant-caps:normal; orphans:2; text-align:start; widows:2; -webkit-text-stroke-width:0px; text-decoration-style:initial; text-decoration-color:initial; float:none; word-spacing:0px; ">函数的作用是，将</span></span><code style="font-size:0.7rem;border-radius:2px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">对象的状态从<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&ldquo;</span>未完成<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&rdquo;</span>变为<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&ldquo;</span>成功<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&rdquo;</span>（即从<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> pending </span>变为<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> resolved</span>），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；</span><code style="font-size:0.7rem;border-radius:2px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">reject</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">函数的作用是，将</span><code style="font-size:0.7rem;border-radius:2px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">对象的状态从<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&ldquo;</span>未完成<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&rdquo;</span>变为<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&ldquo;</span>失败<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&rdquo;</span>（即从<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> pending </span>变为<span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> rejected</span>），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p class="MsoNormal"><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&nbsp;</span></p>
<p class="MsoNormal"><code><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">实例生成以后，可以用</span><code style="font-size:0.7rem;border-radius:2px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">then</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">方法分别指定</span><code style="font-size:0.7rem;border-radius:2px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">resolved</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">状态和</span><code style="font-size:0.7rem;border-radius:2px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-family:Consolas; font-size:12.0pt; color:#C7254E; background:#F9F2F4; ">rejected</span></code><span style="font-family:宋体; font-size:11.5pt; color:#333333; ">状态的回调函数。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p class="MsoNormal"><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">&nbsp;</span></p>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">promise</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">then</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">function</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">value</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span> </code><span style="font-family:Consolas; color:#75715E; background:#111111; "> // success</span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">},</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">function</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">error</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span> </code><span style="font-family:Consolas; color:#75715E; background:#111111; "> // failure</span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">});</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<p style="font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">then</span></code><span style="font-size:11.5pt; color:#333333; ">方法可以接受两个回调函数作为参数。第一个回调函数是</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">对象的状态变为</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">resolved</span></code><span style="font-size:11.5pt; color:#333333; ">时调用，第二个回调函数是</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">对象的状态变为</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">rejected</span></code><span style="font-size:11.5pt; color:#333333; ">时调用。其中，第二个函数是可选的，不一定要提供。这两个函数都接受</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">对象传出的值作为参数。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">Promise </span><span style="font-size:11.5pt; color:#333333; ">新建后就会立即执行。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;text-shadow:rgba(0, 0, 0, 0.3) 0px 1px;tab-size:4;hyphens:none;padding:0.7rem;border-radius:5px;font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;overflow:auto;word-spacing:0px;" bgcolor="#111111"><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">let</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> promise </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">new</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">Promise</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">function</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">,</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> reject</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">'Promise'</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">);</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">();</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">});</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">&nbsp;</span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">promise</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">then</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">function</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">()</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">'resolved.'</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">);</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">});</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">&nbsp;</span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">'Hi!'</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">);</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">&nbsp;</span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">// Promise</span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">// Hi!</span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">// resolved</span></pre>
<p style="font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-size:11.5pt; color:#333333; ">上面代码中，</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">Promise </span><span style="font-size:11.5pt; color:#333333; ">新建后立即执行，所以首先输出的是</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">Promise</span></code><span style="font-size:11.5pt; color:#333333; ">。然后，</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">then</span></code><span style="font-size:11.5pt; color:#333333; ">方法指定的回调函数，将在当前脚本所有同步任务执行完才会执行，所以</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">resolved</span></code><span style="font-size:11.5pt; color:#333333; ">最后输出。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">const p1 </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">new</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">Promise</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">function</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">,</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> reject</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">setTimeout</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(()</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=&gt;</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">reject</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">new</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">Error</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">'fail'</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)),</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#AE81FF; background:#111111; ">3000</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">})</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">&nbsp;</span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">const p2 </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">new</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">Promise</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">function</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">,</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> reject</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">setTimeout</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(()</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=&gt;</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">p1</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">),</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#AE81FF; background:#111111; ">1000</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">})</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">&nbsp;</span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">p2</span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">then</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">result </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=&gt;</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">result</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">))</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">catch</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">error </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=&gt;</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">error</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">))</span><span style="font-family:Consolas; color:#75715E; background:#111111; "> </span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">// Error: fail</span></pre>
<p style="font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-size:11.5pt; color:#333333; ">上面代码中，</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p1</span></code><span style="font-size:11.5pt; color:#333333; ">是一个</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> Promise</span><span style="font-size:11.5pt; color:#333333; ">，</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; ">3 </span><span style="font-size:11.5pt; color:#333333; ">秒之后变为</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">rejected</span></code><span style="font-size:11.5pt; color:#333333; ">。</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p2</span></code><span style="font-size:11.5pt; color:#333333; ">的状态在</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> 1 </span><span style="font-size:11.5pt; color:#333333; ">秒之后改变，</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">resolve</span></code><span style="font-size:11.5pt; color:#333333; ">方法返回的是</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p1</span></code><span style="font-size:11.5pt; color:#333333; ">。由于</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p2</span></code><span style="font-size:11.5pt; color:#333333; ">返回的是另一个</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> Promise</span><span style="font-size:11.5pt; color:#333333; ">，导致</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p2</span></code><span style="font-size:11.5pt; color:#333333; ">自己的状态无效了，由</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p1</span></code><span style="font-size:11.5pt; color:#333333; ">的状态决定</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p2</span></code><span style="font-size:11.5pt; color:#333333; ">的状态。所以，后面的</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">then</span></code><span style="font-size:11.5pt; color:#333333; ">语句都变成针对后者（</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p1</span></code><span style="font-size:11.5pt; color:#333333; ">）。又过了</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> 2 </span><span style="font-size:11.5pt; color:#333333; ">秒，</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">p1</span></code><span style="font-size:11.5pt; color:#333333; ">变为</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">rejected</span></code><span style="font-size:11.5pt; color:#333333; ">，导致触发</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">catch</span></code><span style="font-size:11.5pt; color:#333333; ">方法指定的回调函数。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p class="MsoNormal">&nbsp;</p>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#66D9EF; background:#111111; ">new</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">Promise</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">((</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">,</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> reject</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">)</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=&gt;</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  </span></code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">resolve</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#AE81FF; background:#111111; ">1</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">);</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><span style="font-family:Consolas; color:#AE81FF; background:#111111; ">2</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">);</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">}).</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">then</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">r </span></code><span style="font-family:Consolas; color:#F92672; background:#111111; ">=&gt;</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">{</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">  console</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">.</span><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">log</span><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">(</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; ">r</span></code><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">);</span><code><span style="font-family:Consolas; color:#A6E22E; background:#111111; "> </span></code></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#F8F8F2; background:#111111; ">});</span><span style="font-family:Consolas; color:#75715E; background:#111111; "> </span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">// 2</span></pre>
<pre style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;background:#111111;" bgcolor="#111111"><span style="font-family:Consolas; color:#75715E; background:#111111; ">// 1</span></pre>
<p style="font-variant-ligatures:normal;font-variant-caps:normal;orphans:2;text-align:start;widows:2;-webkit-text-stroke-width:0px;text-decoration-style:initial;text-decoration-color:initial;word-spacing:0px;"><span style="font-size:11.5pt; color:#333333; ">上面代码中，调用</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">resolve(1)</span></code><span style="font-size:11.5pt; color:#333333; ">以后，后面的</span><code style="font-size:0.7rem;border-radius:2px;"><span style="font-family:Consolas; color:#C7254E; background:#F9F2F4; ">console.log(2)</span></code><span style="font-size:11.5pt; color:#333333; ">还是会执行，并且会首先打印出来。这是因为立即</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> resolved </span><span style="font-size:11.5pt; color:#333333; ">的</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> Promise </span><span style="font-size:11.5pt; color:#333333; ">是在本轮事件循环的末尾执行，总是晚于本轮循环的同步任务。</span><span style="font-family:'Verdana','sans-serif'; font-size:11.5pt; color:#333333; "> </span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>
 </div>
</template>

<script>
export default {

}

</script>
<style scoped>

</style>